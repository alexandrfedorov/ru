<html>
  <head>
    <title>
      Звукорежиссер
      &mdash; Александр Фёдоров
    </title>
    <base href='/' />
    <script type='text/javascript'>
      //<![CDATA[
        var path = location.pathname;
        var languages = /(?:\/|^)(en|ru|de)\//;
        var language = (path.match(languages) || [null, null])[1];
        if (path.indexOf('/output/') > -1) {
          var base = document.getElementsByTagName('base')[0];
          var root = language 
            ? path.split(language)[0] 
            : path.split('/output/')[0] + '/output/';
          base.setAttribute('href', root);
        }
      //]]>
    </script>
    <script src='javascripts/script.js'></script>
    <link href='stylesheets/screen.css' rel='stylesheet' />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300&amp;subset=latin,cyrillic' rel='stylesheet' />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type' />
  </head>
  <body class=' ru about site'>
    <div id='root'>
      <header>
        <section>
          <div class='left'>
            <h1>
              <a href='/about/'>Александр Фёдоров</a><span>,
              <a href='/about/profession/'>звукорежиссёр</a></span></h1>
            <nav>
              <menu>
                <li>
                  <a href='/'>
                    Работы
                  </a>
                </li>
                <li>
                  <a href='/about/services/'>
                    Услуги
                  </a>
                </li>
                <li>
                  <a href='/about/'>
                    Резюме
                  </a>
                </li>
                <li>
                  <a class='english language' href="/en/about/site/index.html">in english</a><a class='english language icon' href="/en/about/site/index.html"></a></li>
              </menu>
            </nav>
          </div>
          <address>
            <dl>
              <dt class='tel'>
                телефон:
              </dt>
              <dd>
                +79044749621
              </dd>
              <dt class='email'>
                почта:
              </dt>
              <dd>
                <a href='#'>me@alexandrfedorov.com</a>
              </dd>
            </dl>
          </address>
        </section>
      </header>
      <div class='contact' hidden='hidden' id='contact'>
        <section>
          <form>
            <fieldset>
              <span class='error'>Здравстуйте. Как вас зовут?</span>
              <label for='name'>Ваше имя</label>
              <input id='name' />
            </fieldset>
            <fieldset>
              <span class='error'>Как мне с вами связаться?</span>
              <label for='email'>Почта</label>
              <input id='email' />
            </fieldset>
            <fieldset>
              <label for='phone'>Телефон</label>
              <input id='phone' />
            </fieldset>
            <fieldset>
              <label for='subject'>
                Тема
              </label>
              <select>
                <option></option>
                <option>Работа</option>
                <option>Обучение</option>
                <option>Информация</option>
              </select>
            </fieldset>
            <fieldset>
              <span class='error'>Пожалуйста, продолжайте</span>
              <label for='message'>Сообщение</label>
              <textarea id='message' required='required' rows='5'></textarea>
            </fieldset>
          </form>
          <section class='bar'><a class='cancel' href='#' rel='uncontact'>Отмена</a><a class='button' href='#contact' rel='contact'>
              <span>
                Связаться
                <span class='verbose'>со мной</span>
              </span>
            </a>
          </section>
        </section>
      </div>
      <div class='introduction'>
        <section><blockquote>
          <a href='/about/profession/'>Профессия звукорежиссера</a>
          прошла путь от выполнения чисто
          <a href='/about/technology/'>технической&nbsp;функции</a>
          в области
          <a href='/about/recording/'>звукозаписи</a>
          до полного
          <a href='/about/services/'>творческого участия</a>
          в создании
          <a href='/about/sound/'>произведений искусства</a>
        </blockquote></section>
      </div>
      <main>
        <section>
          <h1 id="jekyll">Сайт-портфолио на jekyll</h1>

<p>Представляю вашему вниманию статический сайт, который собирается на лету из форматированных документов.</p>

<h2 id="section">Как оно работает?</h2>

<ul>
  <li>Весь материал на сайте оформлен с помощью Markdown. Это легкий язык разметки, который позволяет редактировать голый текст, размечать в нем ссылки, вставлять картинки и списки, а затем компилировать его в HTML. Это гораздое удобнее, чем редактировать обычный HTML, потому что не нужно заботиться о закрытии тегов, переносах строк и прочих тонкостях. </li>
  <li>Форматированные материалы оборачиваются в т.н. лэйаут, другой HTML-файл, в котором присутствуют элементы навигации, дополнительная информация, а так же отсылки к необходимым статическим ресурсам, вроде таблицы стилей и скриптов, которые обеспечивают работу динамических функций сайта.</li>
  <li>Материалы, обернутые в лэйаут раскладываются по определенным папкам автоматически, откуда их можно уже запустить и просмотреть прямо с жесткого диска, либо с веб-сервера. Раскладкой и сборкой занимается Jekyll, система управления содержимым, которая генерирует статический сайт на выходе, то есть просто набор HTML файлов и ресурсов. Jekyll умеет слушать изменения в файлах и сразу пересобирать сайт. Таким образом, редактируя и сохраняя файл, отформатированный в Markdown, через несколько секунд можно обновить страницу в браузере и увидеть изменения.</li>
  <li>Jekyll работает локально, то есть на компьютере автора. Далее, полученный HTML-сайт необходимо загрузить на веб-сервер, чтобы люди могли увидеть изменения непосредственно в интернете. Обыкновенно, веб-сервер предоставляет хостинг-компания за деньги, отдельно оплачивается исходящий трафик, т.е. объем материалов переданный посететилеям сайта по сети. Но так, как Jekyll генерирует безопасный статический сайт, который не требует базы данных и возможности исполнять код, мы можем воспользоваться одним из многочисленных бесплатных решений. Данный сайт пользуется услугой Github Pages, которая ориентирована на веб-разработчиков и позволяет бесплатно размешать статические материалы на серверах компании Github. Также, к их серверам прикручены оба наших домена. </li>
</ul>

<h2 id="jekyll-1">Подробнее о Jekyll</h2>
<ul>
  <li>Система имеет входные и выходные (output) файлы.
    <ul>
      <li><strong>Входные</strong>  (папка <code>input</code>) - это исходники, то что редактируется и изменяется до того, как в работу включился Jekyll. Любые изменения в этих файлах отслеживаются, после чего Jekyll пересобирает выходные файлы. Исходные материалы могут быть в разных форматах, на нашем сайте это markdown, но можно иметь материалы в HTML или HAML. </li>
      <li><strong>Выходные</strong> (папка <code>output</code>) - это то что непосредственно можно просмотреть в браузере. При каждом изменении полностью вся папка output затирается и все содержимое воссоздается вновь. Поэтому, эти файлы никогда не должны редактироваться вручную, потому что все изменения будут потеряны.</li>
    </ul>
  </li>
  <li>В терминологии системы различаются три вида содержимого:
    <ul>
      <li>
        <p>Записи - категорезированные материалы, которые подразумевают более или периодическое обновление. На данном сайте-портфолио, это - работы. Все они находятся в папке <code>_posts</code>. Любые файлы, брошенные в эту папку будут отформатированы, обернуты в лэйаут и скомпилированы в HTML страницу. Но из-за того, что сайт двуязычный, нужно следовать определенным соглашениям, чтобы все хорошо и правильно работало.</p>

        <p>Рассмотрим пример работы “В небесах”</p>

        <pre><code>input/_posts/audio/mastering/in-the-skies/en.md     &lt;- описание на английском языке
input/_posts/audio/mastering/in-the-skies/ru.md     &lt;- описание на русском языке
input/_posts/audio/mastering/in-the-skies/photo.png &lt;- доп. материал, например фото
  ^     ^      ^      ^           ^
  |     |      |      |           название работы
  |     |      |      категория (опционально)
  |     |      тип работы (если video, то при проигрывании показывается видео-плеер)
  |     записи
  входные материалы http://www.youtube.com/watch?v=2IB7NDUSBOo
</code></pre>

        <p>Описания работ могут быть в любом формате. Но если придерживаться определенных соглашений, то можно получить хорошие и опрятные результаты. </p>

        <p><a href="daringfireball.net/projects/markdown/syntax">Синтаксис markdown</a> может показать немного устрашающим на первый взгляд, но на самом деле он очень удобен и позволяет добиваться любых результатов</p>

        <p>Пример описания на английском языке:</p>

        <pre><code>&lt;!-- Заголовок со ссылкой на youtube-материал. Если работа лежит в папке video, 
     то при проигрывании будет показан видео-плеер. 

     На выходе: &lt;h2&gt;&lt;a href="http://www.youtube.com/watch?v=2IB7NDUSBOo&gt;In the skies&lt;/a&gt;&lt;/h2&gt;

     Обратите внимание, что URL youtube-материала должна быть в указанном формате. --&gt;

## [In the skies](http://www.youtube.com/watch?v=2IB7NDUSBOo)

&lt;!-- Пример прикрепления картинки загруженной в папку `_posts/audio/mastering/in-the-skies/`. 
     Обратите внимание, что путь к картинке должен быть относительным, т.е. не имеющий `/` в начале.
     И английское и русское описание будет иметь одинаковый путь к этой картинке --&gt;

![Picture description](audio/mastering/in-the-skies/photo.jpg)


&lt;!-- Список с определениями. В нашем случае, используется для описания ролей 
     участников в работе. Вместо этого списка могут идти просто параграфы с текстом,
     картинка, или все вместе --&gt;

Guitar
: Andrey Zloyan

&lt;!-- Пример указания дополнительной информации об участнике, которая будет
     показываться во всплывающей подсказке. В данном случае, имя оборачивается в тег &lt;em&gt; 
     и кэтому тегу добавляется атрибут title. На выходе: 
     &lt;em title="4th Grushensky festival winner"&gt;Anvar Ismagilov&lt;/em&gt; --&gt;

Author &amp; performer
: *Anvar Ismagilov*{:title="4th Grushensky festival winner"}

Recording &amp; mixing
: Alexandr Fedorov
</code></pre>

        <p>В зависимости от того, в каких папках лежит материал, определяется будет ли виден видео-плеер или нет, и в какой категории можно будет найти эту работу. На данный момент видео-материалы не имеют категорий, а аудио-материалы разбиты на несколько под-категорий. При добавлении новой под-категории, необходимо в файле _config.yml указать перевод названия категории на русский язык (внизу файла)</p>
      </li>
      <li>
        <h3 id="section-1">Страницы</h3>

        <p>Страницы - некатегоризуемые материалы, которые меняются реже чем записи и не отображаются в списке работ. В нашем случае, это страница с резюме, услугами и прочим. В отличие от записей, в которых язык определяется именем файла, у страниц язык определяется папкой в корне:</p>

        <pre><code>input/ru/hello.md -&gt; alexandrfedorov.ru/hello/ или localhost/ru/hello/index.html
input/ru/about/index.md -&gt; alexandrfedorov.ru/about/ или localhost/ru/about/index.html
input/ru/about/profession.md -&gt; alexandrfedorov.ru/profession/ или localhost/ru/about/profession/index.html
input/en/about/index.md -&gt; alexandrfedorov.com/about/ или localhost/en/about/index.html
</code></pre>

        <p>Как можно видеть, все страницы лежат в папке <code>en</code> или <code>ru</code>. На выходе создается папка с названием файла, а сама страница будет записана в файл index.html. Это сделано для того, чтобы можно было загружать дополнительные статические файлы которые бы как бы “лежали” внутри страницы (например http://alexandrfedorov.ru/about/photo.jpg).</p>
      </li>
      <li>
        <h3 id="section-2">Статические файлы</h3>

        <p>Это файлы которые не форматируются и не оборачиваются в лэйаут. Они просто переносятся из папки input в папку output без изменений. В нашем случае это могут быть картинки (например, из папки <code>input/photos</code>) и документы (вордовский файл с резюме). Складывать внутрь сайта аудио, а тем более видео - плохая идея, потому что мы пользуемся бесплатным хостингом, у которого можно исчерпать лимиты. Кроме того, это неизбежно замедлит скорость работы jekyll и загрузку файлов на сервер.</p>

        <p>Как было указано в предыдущем пункте, статические файлы могут объединятся в папки со страницами. Например страница</p>

        <pre><code>input/ru/about/index.md -&gt; alexandrfedorov.ru/about/
input/en/about/index.md -&gt; alexandrfedorov.com/about/
input/about/photo.jpg   -&gt; alexandrfedorov.ru/about/photo.jpg
                        -&gt; alexandrfedorov.com/about/photo.jpg
</code></pre>

        <p>Как видно, английская и русская версии сайта будут иметь разные страницы <code>about</code>, но фотография будет доступна в обоих версиях. Поэтому, внутри страниц и записей можно использовать картинки с идентичным путём (<code>about/photo.jpg</code> в данном случае, без <code>/</code> в начале) </p>
      </li>
    </ul>
  </li>
  <li>Сайт поддерживает два языка, но можно добавить больше. Это означает, что все материалы и лэйауты должны быть продублированы на английском и русском языке. Все русские материалы находятся в папке ru, а английские в папке en. Русская версия сайта использует файл <code>input/_layouts/ru.haml</code> для обертки материалов, а английская - <code>input/_layouts/en.haml</code>. </li>
</ul>

<h2 id="section-3">Другие факты</h2>

<ul>
  <li>Для оформления HTML в лэйаутах используется HAML, а для CSS - SASS с compass. оВсе это прикрепленно к Jekyll, поэтому можно редактировать эти файлы и видеть изменения сразу. При благоприятных обстоятельствах, вам не придется ничего редактировать, но и сильно бояться их тоже не стоит.</li>
</ul>

<h2 id="section-4">Первоначальная установка</h2>
<p>Для того чтобы начать работу, необходимо три вещи:</p>

<ul>
  <li>
    <p>GIT - Система контроля версий. Бездонная и мощная штука, но мы будем использовать минимум её возможностей для того чтобы загружать сайт в интернет и бэкапить результаты труда. Идет в комплекте в Mac OS X.</p>
  </li>
  <li>
    <p>Rubygems - набор инструментов для компиляции сайта. Скопируйте следующий кусок в терминал и дождитесь завершения установки</p>

    <p>gem install jekyll
  gem install jekyll_ext
  gem install sass
  gem install haml
  gem install compass
  gem install compass-recipes
  gem install sassy-buttons
  gem install jekyll-haml
  gem install kramdown</p>
  </li>
  <li>
    <p>Склонировать с github текущую версию сайта. Скопируйте в терминал. </p>

    <p>cd ~
  mkdir Sites
  cd Sites
  git clone git@github.com:alexandrfedorov/alexandrfedorov.github.com.git
  cd alexandrfedorov.github.com
  git checkout gh-pages</p>
  </li>
</ul>

<h2 id="section-5">Как происходит повседневная работа с сайтом?</h2>
<ul>
  <li>После установки, у вас в папке вашего пользователя появилась папка Sites, а в ней alexandrfedorov.github.com. Это ваша рабочая копия сайта.</li>
  <li>
    <p>Тепреь нужно запустить Jekyll чтобы он начал следить за изменениями и запустил веб-сервер. Скопируйте в терминал (спросит пароль)</p>

    <pre><code>cd ~/Sites/alexandrfedorov.github.com
sudo ejekyll --auto --server 80
</code></pre>
  </li>
  <li>Теперь можно зайти на http://localhost/ru чтобы увидеть сайт</li>
  <li>
    <p>Теперь вы можете редактировать сайт (в папке <code>input</code>) - добавлять записи в _posts, редактировать и добавлять страницы, догружать фотки, редактировать лэйауты. Постарайтесь не добавлять неиспользуемых файлов и в целом не “мусорить”.</p>

    <p>Изменения сразу будут видны в браузере. Если вдруг отчего-то перестало в браузере грузиться, то посмотрите в Терминал, где запущен ejekyll - он может рассказать, где в форматировании материала была ошибка. Если оно просто перестало работать и причин видимых нет, закройте терминал и начните заново.</p>
  </li>
  <li>
    <p>Если вы не удовтеорены изменениями, вдруг все перестало работать или что-то еще в этом роде, то можно откатиться до предыдущего бэкапа. Вы потеряете все изменения</p>

    <pre><code>cd ~/Sites/alexandrfedorov.github.com
git reset --hard
</code></pre>
  </li>
  <li>
    <p>Когда вы удовлетворены изменениями, загрузите их на сервер. Это опционально, но крайне желательно. Позволит откатиться в будущем при возникновении проблем до сохраненного состояния.</p>

    <pre><code>cd ~/Sites/alexandrfedorov.github.com
git commit -a -m "Updates"
git push origin gh-pages -f
</code></pre>
  </li>
  <li>
    <p>Если вас все устраивает и вы хотите загрузить изменения на сайт уже в интернете (т.е. alexandrfedorov.ru и com), сделайте следующее:</p>

    <pre><code>cd ~/Sites/alexandrfedorov.github.com
./deploy.sh
</code></pre>

    <p>Это создаст две дополнительные папки в Sites, <code>alexandrfedorov.ru</code> и <code>alexandrfedorov.com</code> и загрузит их на сервера. Готово.</p>
  </li>
</ul>

<h2 id="section-6">Напутствия</h2>

<p>Для того чтобы начать размещать свои материалы, вам придется очистить весь мусор в _posts. Достаточно все удалить оттуда. Затем создайте там папки video и audio и последуйте примеру оформления работы указанному выше. Названия папок и категорий должны быть на английском. Если на русской версии названия категорий будут на английском, то добавьте перевод в файл _config.yml и перезапустите jekyll.</p>

        </section>
      </main>
      <div id='footer-pusher'></div>
    </div>
    <footer>
      <p><a href='/about/'>Александр Фёдоров</a></p>
      <menu>
        <li class='selected'>
          <a href='/'>
            Работы
          </a>
        </li>
        <li>
          <a href='/about/services/'>
            Услуги
          </a>
        </li>
        <li>
          <a href='/about/'>
            Резюме
          </a>
        </li>
        <li>
          <a class='english language' href="/en/about/site/index.html">in english</a><a class='english language icon' href="/en/about/site/index.html"></a></li>
      </menu>
    </footer>
  </body>
</html>
<script>
  document.ondomready();
</script>
